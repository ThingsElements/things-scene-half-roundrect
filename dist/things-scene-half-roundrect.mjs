import{Rect as t,Component as e}from"@hatiolab/things-scene";var r={ondragmove:function(t,e,r){r.controls;var{left:i,top:n,width:a,height:l}=r.model,d=(r.transcoordP2S(t.x,t.y).x-i)/(a/2)*100;d=o(d,a,l),r.set({round:d})}};function o(t,e,r){var o=e>r?r/e*100:100;return t>=o?t=o:t<=0&&(t=0),t}class i extends t{_draw(t){var{round:e,top:r,left:i,width:n,height:a}=this.model;if(t.beginPath(),(e=o(e,n,a))>0){var l=e/100*(n/2);t.moveTo(i+l,r),t.lineTo(i+n-l,r),t.quadraticCurveTo(i+n,r,i+n,r+l),t.lineTo(i+n,r+a),t.lineTo(i,r+a),t.lineTo(i,r+l),t.quadraticCurveTo(i,r,i+l,r)}else t.rect(i,r,n,a);this.drawFill(t),this.drawStroke(t)}get controls(){var{left:t,top:e,width:i,round:n,height:a}=this.model;return[{x:t+i/2*((n=null==n?0:o(n,i,a))/100),y:e,handler:r}]}}e.register("half-roundrect",i);export{i as HalfRoundrect};
