!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@hatiolab/things-scene")):"function"==typeof define&&define.amd?define(["exports","@hatiolab/things-scene"],t):t((e=e||self)["things-scene-half-roundrect"]={},e.scene)}(this,(function(e,t){"use strict";var o={ondragmove:function(e,t,o){o.controls;var{left:r,top:i,width:s,height:d}=o.bounds,u=(o.transcoordP2S(e.x,e.y).x-r)/(s/2)*100;u=n(u,s,d),o.set({round:u})}};function n(e,t,o){var n=t>o?o/t*100:100;return e>=n?e=n:e<=0&&(e=0),e}class r extends t.Rect{is3dish(){return!1}_draw(e){var{round:t,top:o,left:r,width:i,height:s}={...this.model,...this.bounds};if(e.beginPath(),(t=n(t,i,s))>0){var d=t/100*(i/2);e.moveTo(r+d,o),e.lineTo(r+i-d,o),e.quadraticCurveTo(r+i,o,r+i,o+d),e.lineTo(r+i,o+s),e.lineTo(r,o+s),e.lineTo(r,o+d),e.quadraticCurveTo(r,o,r+d,o)}else e.rect(r,o,i,s);this.drawFill(e),this.drawStroke(e)}get controls(){var{left:e,top:t,width:r,round:i,height:s}={...this.model,...this.bounds};return[{x:e+r/2*((i=null==i?0:n(i,r,s))/100),y:t,handler:o}]}}t.Component.register("half-roundrect",r),e.HalfRoundrect=r,Object.defineProperty(e,"__esModule",{value:!0})}));
