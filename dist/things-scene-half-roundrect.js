!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@hatiolab/things-scene")):"function"==typeof define&&define.amd?define(["exports","@hatiolab/things-scene"],t):t((e=e||self)["things-scene-half-roundrect"]={},e.scene)}(this,function(e,t){"use strict";var o={ondragmove:function(e,t,o){o.controls;var{left:r,top:i,width:d,height:l}=o.model,s=(o.transcoordP2S(e.x,e.y).x-r)/(d/2)*100;s=n(s,d,l),o.set({round:s})}};function n(e,t,o){var n=t>o?o/t*100:100;return e>=n?e=n:e<=0&&(e=0),e}class r extends t.Rect{_draw(e){var{round:t,top:o,left:r,width:i,height:d}=this.model;if(e.beginPath(),(t=n(t,i,d))>0){var l=t/100*(i/2);e.moveTo(r+l,o),e.lineTo(r+i-l,o),e.quadraticCurveTo(r+i,o,r+i,o+l),e.lineTo(r+i,o+d),e.lineTo(r,o+d),e.lineTo(r,o+l),e.quadraticCurveTo(r,o,r+l,o)}else e.rect(r,o,i,d);this.drawFill(e),this.drawStroke(e)}get controls(){var{left:e,top:t,width:r,round:i,height:d}=this.model;return[{x:e+r/2*((i=null==i?0:n(i,r,d))/100),y:t,handler:o}]}}t.Component.register("half-roundrect",r),e.HalfRoundrect=r,Object.defineProperty(e,"__esModule",{value:!0})});
